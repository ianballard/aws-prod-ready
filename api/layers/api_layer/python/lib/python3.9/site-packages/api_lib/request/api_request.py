import json

def api():

    def decorator(func):
        def wrapper(event):

            return func(
                api_request=ApiRequest(event)
            )

        return wrapper

    return decorator



class ApiRequest:

    def __init__(self, event: dict):
        self.headers = event.get('headers', {})
        self.path_parameters = event.get('pathParameters', {})
        self.body = json.loads(event.get('body', {})) \
            if self.headers.get('Content-Type', 'application/json') == 'application/json' \
               and event.get('body') is not None\
            else event.get('body')