from unittest.mock import MagicMock, patch

import core_lib.services.file_storage.file_storage_service as fss

# You can replace 'your_bucket' and 'your_key' with your actual bucket name and key
bucket = "your_bucket"
key = "your_key"
content = "test_content"


@patch("core_lib.services.file_storage.file_storage_service.FILE_STORAGE_SERVICE_IMPL")
def test_upload(mock_service_impl):
    # Mock the upload function
    mock_service_impl.upload = MagicMock()

    # Call the upload function
    fss.upload(bucket_name=bucket, key=key, content=content)

    # Assert that the upload function was called
    mock_service_impl.upload.assert_called_once_with(
        bucket_name=bucket, key=key, content=content
    )


@patch("core_lib.services.file_storage.file_storage_service.FILE_STORAGE_SERVICE_IMPL")
def test_download(mock_service_impl):
    # Mock the download function
    mock_service_impl.download = MagicMock()

    # Call the download function
    fss.download(bucket_name=bucket, key=key)

    # Assert that the download function was called
    mock_service_impl.download.assert_called_once_with(bucket_name=bucket, key=key)
